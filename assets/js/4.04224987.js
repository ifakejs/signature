(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{309:function(t,i,e){"use strict";e.d(i,"a",(function(){return f}));
/*!
 * @ifake/signature
 * (c) 2020-2021 BiYuqi
 * Released under the MIT License.
 * https://github.com/ifakejs/signature
 */
var n=function(){return(n=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)};function o(t,i,e,n){return new(e||(e=Promise))((function(o,s){function a(t){try{h(n.next(t))}catch(t){s(t)}}function r(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(a,r)}h((n=n.apply(t,i||[])).next())}))}function s(t,i){var e,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(s){return function(r){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=i.call(t,a)}catch(t){s=[6,t],n=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,r])}}}function a(t,i){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,s=e.call(t),a=[];try{for(;(void 0===i||i-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=s.return)&&e.call(s)}finally{if(o)throw o.error}}return a}var r=["devicePixelRatio","isMobile"],h=function(){function t(){this.className="ifake-signature",this.lineWidth=4,this.lineCap="round",this.lineJoin="round",this.strokeStyle="#333",this.fullPage=!1,this.isMobile=/phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/i.test(navigator.userAgent),this.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.degree=0,this.guideLine={enable:!1,lineColor:"#f5f5f5",lineWidth:.5,step:20}}return t.prototype.merge=function(t){if(!t)return this;for(var i in t)r.includes(i)||(this[i]="guideLine"===i?n(n({},this[i]),t[i]):t[i]);return this},t}();function c(t){return void 0===t&&(t=0),new Promise((function(i){setTimeout((function(){i(!0)}),t)}))}function l(t){if(!t)throw new Error("Params can not be empty.");var i;try{i=t.split(",")[0].split(":")[1].split(";")[0]}catch(t){throw new Error("Invalid dataURI.")}for(var e=atob(t.split(",")[1]),n=new ArrayBuffer(e.length),o=new Uint8Array(n),s=e.length,a=0;a<s;a++)o[a]=e.charCodeAt(a);return new Blob([o],{type:i})}function u(t,i,e){return t.addEventListener(i,e,!1)}function p(t,i){var e=t.className.trim().split(/\s/);e.length>0?t.className=function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(a(arguments[i]));return t}(e,[i]).join(" ").trim():t.className=i}function d(t){return document.createElement(t)}var v={x:0,y:0},f=function(){function t(t){if(this.isMoving=!1,this.pointStart=v,this.pointMove=v,this.canvasWidth=0,this.canvasHeight=0,!(null==t?void 0:t.target))throw new Error("The option [target] must be a dom class name or id which is the parent container of canvas.\nRecommend type an id. e.g: #app");this.options=(new h).merge(t);var i,e=d("canvas"),n=(i=null==t?void 0:t.target,document.querySelector(i));if(!n)throw new Error("Please provide a container for canvas");!function(t,i){t.appendChild(i)}(n,e),p(e,this.options.className),this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.render(),this.reset(this.options.degree),this.initialCtxStyle(),this.bindEvent(),this.options.guideLine.enable&&this.guideLine(),this.options.canvasProcessor&&"function"==typeof this.options.canvasProcessor&&this.options.canvasProcessor(this.canvas),this.options.ctxProcessor&&"function"==typeof this.options.ctxProcessor&&this.options.ctxProcessor(this.ctx)}return t.prototype.render=function(){var t=this.options.fullPage,i=window.getComputedStyle(this.ctx.canvas,null),e=i.width,n=i.height;try{this.canvasWidth=parseInt(e.replace("px",""),10),this.canvasHeight=parseInt(n.replace("px",""),10)}catch(t){throw t.message}var o={clientWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,clientHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},s=o.clientHeight,a=t?o.clientWidth:this.canvasWidth,r=t?s:this.canvasHeight;this.canvas.style.width=a+"px",this.canvas.style.height=r+"px",this.canvas.width=Math.floor(a*this.options.devicePixelRatio),this.canvas.height=Math.floor(r*this.options.devicePixelRatio),this.ctx.scale(this.options.devicePixelRatio,this.options.devicePixelRatio)},t.prototype.reset=function(t){switch(this.ctx.rotate(t*Math.PI/180),t){case-90:this.ctx.translate(-this.canvasHeight,0);break;case 90:this.ctx.translate(0,-this.canvasWidth);break;case-180:case 180:this.ctx.translate(-this.canvasWidth,-this.canvasHeight)}},t.prototype.initialCtxStyle=function(){this.canvas.style.cursor="crosshair",this.ctx.lineJoin=this.options.lineJoin,this.ctx.lineCap=this.options.lineCap,this.ctx.lineWidth=this.options.lineWidth,this.ctx.strokeStyle=this.options.strokeStyle,this.options.isMobile||(this.ctx.shadowBlur=1,this.ctx.shadowColor=this.options.strokeStyle)},t.prototype.adaptEventType=function(){return this.options.isMobile?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"}},t.prototype.getOffset=function(t){var i=this.canvas.getBoundingClientRect(),e=i.left,n=i.top;return this.options.isMobile?{left:t.touches[0].clientX-e,top:t.touches[0].clientY-n}:{left:t.clientX-e,top:t.clientY-n}},t.prototype.bindEvent=function(){var t=this,i=this.adaptEventType(),e=i.start,n=i.move,o=i.end,s=window.requestAnimationFrame,a=s?function(i){s((function(){t.handleMove(i)}))}:this.handleMove;u(this.canvas,e,this.handleStart.bind(this)),u(this.canvas,n,a.bind(this)),u(this.canvas,o,this.handleEnd.bind(this)),this.options.isMobile||u(this.canvas,"mouseleave",(function(){t.isMoving=!1}))},t.prototype.handleStart=function(t){t.preventDefault(),this.isMoving=!0;var i=this.getOffset(t),e=i.left,n=i.top;this.pointStart={x:e,y:n},this.ctx.beginPath(),this.ctx.moveTo(this.pointStart.x,this.pointStart.y),this.ctx.lineTo(this.pointStart.x,this.pointStart.y),this.ctx.stroke()},t.prototype.handleMove=function(t){if(t.preventDefault(),this.isMoving){var i=this.getOffset(t),e=i.left,n=i.top;this.pointMove={x:e,y:n},this.ctx.lineTo(this.pointMove.x,this.pointMove.y),this.ctx.stroke()}},t.prototype.handleEnd=function(t){t.preventDefault(),this.isMoving=!1},t.prototype.getPngImage=function(t){return void 0===t&&(t=1),o(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,c(10)];case 1:return i.sent(),[2,Promise.resolve(this.canvas.toDataURL("image/png",t))]}}))}))},t.prototype.getJpgImage=function(t){return void 0===t&&(t=.5),o(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,c(10)];case 1:return i.sent(),[2,Promise.resolve(this.canvas.toDataURL("image/jpeg",t))]}}))}))},t.prototype.getBlob=function(t){return o(this,void 0,void 0,(function(){var i,e,n,o,a,r=this;return s(this,(function(s){return e=(i=t||{}).type,n=void 0===e?"image/png":e,o=i.quality,a=void 0===o?.92:o,[2,new Promise((function(t){HTMLCanvasElement.prototype.toBlob?r.canvas.toBlob((function(i){t(i)}),n,a):t(l(r.canvas.toDataURL(n,a)))}))]}))}))},t.prototype.getBlobWithWhiteBG=function(t){return o(this,void 0,void 0,(function(){var i,e,n,o,a,r,h,u,p,v,f,g,y,x,m;return s(this,(function(s){switch(s.label){case 0:return e=(i=t||{}).type,n=void 0===e?"image/png":e,o=i.quality,a=void 0===o?.92:o,[4,c(10)];case 1:s.sent(),r=d("canvas"),h=r.getContext("2d"),u=window.getComputedStyle(this.ctx.canvas,null),p=u.width,v=u.height;try{f=parseInt(p.replace("px",""),10),g=parseInt(v.replace("px",""),10)}catch(t){throw new Error(t.message)}for(r.style.width=f+"px",r.style.height=g+"px",r.width=Math.floor(f*this.options.devicePixelRatio),r.height=Math.floor(g*this.options.devicePixelRatio),h.scale(this.options.devicePixelRatio,this.options.devicePixelRatio),y=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),x=y.data,m=0;m<x.length;m+=4)x[m+3]<255&&(x[m]=255,x[m+1]=255,x[m+2]=255,x[m+3]=255);return h.putImageData(y,0,0),[2,new Promise((function(t){HTMLCanvasElement.prototype.toBlob?r.toBlob((function(i){t(i)}),n,a):t(l(r.toDataURL(n,a)))}))]}}))}))},t.prototype.guideLine=function(){var t=this.options.guideLine,i=t.step,e=t.lineWidth,n=t.lineColor;this.ctx.save(),this.ctx.strokeStyle=n,this.ctx.lineWidth=e;for(var o=90===Math.abs(this.options.degree),s=o?this.canvasWidth:this.canvasHeight,a=o?this.canvasHeight:this.canvasWidth,r=.5+i;r<s;r+=i)this.ctx.beginPath(),this.ctx.moveTo(0,r),this.ctx.lineTo(a,r),this.ctx.stroke();for(r=.5+i;r<a;r+=i)this.ctx.beginPath(),this.ctx.moveTo(r,0),this.ctx.lineTo(r,s),this.ctx.stroke();this.ctx.restore()},t.prototype.destory=function(){var t,i;null===(i=null===(t=this.canvas)||void 0===t?void 0:t.parentNode)||void 0===i||i.removeChild(this.canvas)},t.prototype.clear=function(){var t,i;-90===this.options.degree||90===this.options.degree?(t=this.canvasHeight,i=this.canvasWidth):(t=this.canvasWidth,i=this.canvasHeight),this.ctx.clearRect(0,0,t,i),this.options.guideLine.enable&&this.guideLine()},t}()},331:function(t,i,e){},364:function(t,i,e){"use strict";e(331)},375:function(t,i,e){"use strict";e.r(i);var n=e(309),o={mounted:function(){new n.a({target:".ifake-signature"})}},s=(e(364),e(45)),a=Object(s.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ifake-signature"})}),[],!1,null,null,null);i.default=a.exports}}]);